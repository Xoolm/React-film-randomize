"use strict";(self.webpackChunkreact_film_randomize=self.webpackChunkreact_film_randomize||[]).push([[144],{3026:(e,a,s)=>{s.d(a,{Z:()=>t});const r="_FilmWinner_filmWinner__Ut8VV",n="_FilmWinner_confetti__qVUEA",i="_FilmWinner_confettiPiece__ax0qw";var l=s(184);const t=e=>{let{winner:a}=e;return(0,l.jsxs)("div",{className:n,children:[(0,l.jsx)("div",{className:i}),(0,l.jsx)("div",{className:i}),(0,l.jsx)("div",{className:i}),(0,l.jsx)("div",{className:i}),(0,l.jsx)("div",{className:i}),(0,l.jsx)("div",{className:i}),(0,l.jsx)("div",{className:i}),(0,l.jsx)("div",{className:i}),(0,l.jsx)("div",{className:i}),(0,l.jsx)("div",{className:i}),(0,l.jsx)("div",{className:i}),(0,l.jsx)("div",{className:i}),(0,l.jsx)("div",{className:i}),(0,l.jsx)("div",{className:r,children:null===a||void 0===a?void 0:a.option})]})}},4714:(e,a,s)=>{s.d(a,{Z:()=>l});var r=s(2791);const n={filmCard:"_FilmCard_filmCard__aSUp8",cardChoice:"_FilmCard_cardChoice__nuEa0",filmCardOut:"_FilmCard_filmCardOut__hTHJr",CardOut:"_FilmCard_CardOut__Vgabo"};var i=s(184);const l=e=>{let{film:a,droppedOut:s}=e;const[l,t]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{s===a.id&&t(!0)}),[s]),(0,i.jsx)("div",{className:l?n.filmCardOut:n.filmCard,children:(0,i.jsx)("div",{className:n.filmCard__title,children:a.option})})}},8530:(e,a,s)=>{function r(e){let a,s,r=null===e||void 0===e?void 0:e.length;for(;r;)s=Math.floor(Math.random()*r--),a=e[r],e[r]=e[s],e[s]=a;return e}s.d(a,{S:()=>r})},6196:(e,a,s)=>{s.d(a,{Z:()=>l});var r=s(9202),n=(s(2791),s(184));const i={initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50}},l=e=>{let{children:a}=e;return(0,n.jsx)(r.E.div,{variants:i,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3},children:a})}},9144:(e,a,s)=>{s.r(a),s.d(a,{default:()=>F});var r=s(6876),n=s(6196),i=s(1614),l=s(2791),t=s(7324),d=s(6680),o=s(6716),m=s(184);const c=e=>{let{lobbyFilmsPlate:a,prizeNumber:s,mustSpin:r,setMustSpin:n}=e;return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(o.Wheel,{mustStartSpinning:r,prizeNumber:s,data:a,outerBorderWidth:1,radiusLineWidth:1,innerRadius:11,fontSize:10,textDistance:55,backgroundColors:["#020518"],textColors:["white"],innerBorderColor:"red",radiusLineColor:"#ec8dc7",outerBorderColor:"rgba(238, 141, 200, 1)",onStopSpinning:()=>{n(!1)}})})};var _=s(7864),u=s(6151),p=s(3026),v=s(9230),h=s(7689);const x=e=>{var a,s;let{winner:r,winnerBool:n,setWinnerBool:i}=e;const{t:o}=(0,v.$G)(),{numbersLobby:x,lobbyFilmsPlate:C,setLobbyFilmsPlate:f,socket:y}=(0,l.useContext)(t.Z),[W,b]=(0,l.useState)(!1),[j,g]=(0,l.useState)(),[N,{data:Z,isSuccess:F}]=d.p.useLazyGetRandNumQuery(),w=null===Z||void 0===Z||null===(a=Z.result)||void 0===a||null===(s=a.random)||void 0===s?void 0:s.data,P=(0,h.UO)();return(0,l.useEffect)((()=>{y.emit("RandomWheelGame",P)}),[]),(0,l.useEffect)((()=>{y.on("responseMustSpin",(e=>b(e))),y.on("responsePrizeNumber",(e=>g(e))),y.on("responseRandomWheelGame",(e=>f(e)))}),[y,Z]),(0,l.useEffect)((()=>{null===C||void 0===C||C.map((e=>{let a=C.findIndex((e=>e.id===x[w]));y.emit("PrizeNumber",a)})),F&&setTimeout((()=>{y.emit("RemoveFilm",x[w])}),12500)}),[Z,y]),(0,m.jsx)(m.Fragment,{children:n?(0,m.jsx)("div",{className:_.Z.randomWheelWrapp,children:(0,m.jsx)(p.Z,{winner:r})}):(0,m.jsxs)("div",{className:_.Z.wheelWrapper,children:[(0,m.jsx)(c,{setMustSpin:b,mustSpin:W,prizeNumber:j,lobbyFilmsPlate:C}),(0,m.jsx)(u.Z,{className:_.Z.addWinner,onClick:async()=>{if(W)return W;await N(null===x||void 0===x?void 0:x.length),y.emit("MustSpin",!0)},children:o("gamesPage.randomWheel.button")})]})})};var C=s(9873),f=s(4714);const y=e=>{let{winnerBool:a,winner:s}=e;const{t:r}=(0,v.$G)(),{lobbyAllFilms:n,numbersLobby:i,setLobbyFilmsPlate:o,socket:c}=(0,l.useContext)(t.Z),[_,{data:x}]=d.p.useLazyGetRandNumQuery(),[y,W]=(0,l.useState)(),b=(0,h.UO)();return(0,l.useEffect)((()=>{var e,a;c.emit("RandomCardOutGame",i[null===x||void 0===x||null===(e=x.result)||void 0===e||null===(a=e.random)||void 0===a?void 0:a.data],b)}),[x]),(0,l.useEffect)((()=>{c.on("responseRandomCardOutGame",(e=>o(e))),c.on("responseDroppedOutID",(e=>{y!==e&&W(e)}))}),[o,c]),(0,m.jsx)(m.Fragment,{children:a?(0,m.jsx)("div",{className:C.Z.winnerWrapper,children:(0,m.jsx)(p.Z,{winner:s})}):(0,m.jsxs)("div",{className:C.Z.randomCardWrapp,children:[n&&n.map((e=>(0,m.jsx)(f.Z,{film:e,droppedOut:y},e.id))),(0,m.jsx)(u.Z,{className:C.Z.addWinner_button,onClick:async()=>{await _(null===i||void 0===i?void 0:i.length)},children:r("gamesPage.randomCardOutWrapp.button")})]})})};var W=s(306),b=s(4467);const j=e=>{let{film:a,onDelete:s}=e;const{socket:r}=(0,l.useContext)(t.Z),[n,i]=(0,l.useState)(!1);(0,l.useEffect)((()=>{r.on("responseHideWinner",((e,s)=>{s===a.id&&i(e)}))}),[r,n,s]);return(0,m.jsx)("div",{className:n?b.Z.filmCardOut:b.Z.filmCard,onClick:()=>{s(a.id),r.emit("HideWinner",!0,a.id)},children:(0,m.jsxs)("div",{className:n?b.Z.isFlipped:b.Z.card,children:[(0,m.jsx)("div",{className:b.Z.filmCard__back,children:(0,m.jsx)("div",{className:b.Z.filmCard__title,children:a.option})}),(0,m.jsx)("div",{className:b.Z.filmCard__front,children:(0,m.jsx)("div",{className:b.Z.filmCard__author,children:"?"})})]})})};var g=s(8530);const N=e=>{let{winnerBool:a,winner:s}=e;const{lobbyAllFilms:r,lobbyFilmsPlate:n,setLobbyFilmsPlate:i,socket:d}=(0,l.useContext)(t.Z),[o,c]=(0,l.useState)(),_=[...r],u=(0,g.S)(_);(0,l.useMemo)((()=>c(u)),[r]);const v=(0,h.UO)();(0,l.useEffect)((()=>{d.on("responseMysteryCard",(e=>i(e)))}),[d,n]);const x=e=>{d.emit("MysteryCard",e,v)};return(0,m.jsx)(m.Fragment,{children:a?(0,m.jsx)("div",{className:W.Z.winnerWrapper,children:(0,m.jsx)(p.Z,{winner:s})}):(0,m.jsx)("div",{className:W.Z.mysteryCardWrapp,children:o&&o.map((e=>(0,m.jsx)(j,{onDelete:x,film:e},e.id)))})})};var Z=s(5615);s(8633);const F=()=>{const{t:e}=(0,v.$G)(),[a,s]=(0,l.useState)(0),{lobbyFilmsPlate:d,setLobbyFilmsPlate:o,socket:c}=(0,l.useContext)(t.Z),[_,u]=(0,l.useState)(!1),[p,C]=(0,l.useState)(),f=(0,h.UO)();(0,l.useEffect)((()=>{0===d.length&&s(4)}),[]),(0,l.useEffect)((()=>{1!==a.value&&2!==a.value&&3!==a.value||(c.emit("RefreshGameFilms",f),c.on("RefreshFilms",(e=>o(e))))}),[a,c]);const W=[{value:1,label:e("gamesPage.select.eliminationCards")},{value:2,label:e("gamesPage.select.randomWheel")},{value:3,label:e("gamesPage.select.choiceCard")}];return(0,l.useEffect)((()=>{2===a.value?1===(null===d||void 0===d?void 0:d.length)&&setTimeout((()=>{u(!0),d.map((e=>C(e)))}),0):1===(null===d||void 0===d?void 0:d.length)&&setTimeout((()=>{u(!0),d.map((e=>C(e)))}),3500)}),[a.value,d]),(0,m.jsx)(n.Z,{children:(0,m.jsx)("div",{className:r.Z.FilmsChoisePage__background,children:(0,m.jsxs)(i.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,m.jsx)("div",{style:{color:"red"},children:"test server"}),(0,m.jsx)(Z.ZP,{className:r.Z.select,classNamePrefix:"customSelect",isDisabled:4===a||5===a,isSearchable:!1,options:W,value:a,onChange:s,placeholder:e(0===a?"gamesPage.select.placeholder1":"gamesPage.select.placeholder2"),styles:{control:e=>({...e,borderRadius:"20px",padding:"5px 30px"})}}),(0,m.jsxs)("div",{className:r.Z.templateWrapp,children:[(0,m.jsxs)("div",{className:r.Z.alert,children:[0===a?(0,m.jsx)("h3",{children:e("gamesPage.addingMessage.chooseAGame")}):null,4===a?(0,m.jsx)("h3",{children:e("gamesPage.addingMessage.YouHaveNotAddedAnyMovies")}):null,5===a?(0,m.jsx)("h3",{children:e("gamesPage.addingMessage.addingOneMovieDoesNotMakeSense")}):null]}),1===a.value?(0,m.jsx)(y,{winner:p,winnerBool:_}):null,2===a.value?(0,m.jsx)(x,{winner:p,winnerBool:_,setWinnerBool:u}):null,3===a.value?(0,m.jsx)(N,{winner:p,winnerBool:_}):null]})]})})})}},8633:()=>{},306:(e,a,s)=>{s.d(a,{Z:()=>r});const r={mysteryCardWrapp:"_MysteryCardWrapp_mysteryCardWrapp__Xkh-R",winnerWrapper:"_MysteryCardWrapp_winnerWrapper__GFtQU"}},4467:(e,a,s)=>{s.d(a,{Z:()=>r});const r={filmCard:"_MysteryCard_filmCard__gwvys",shake:"_MysteryCard_shake__VOIvZ",card:"_MysteryCard_card__yblMf",filmCard__front:"_MysteryCard_filmCard__front__jc+17",filmCard__back:"_MysteryCard_filmCard__back__9KdpV","neon-1":"_MysteryCard_neon-1__Idxea",isFlipped:"_MysteryCard_isFlipped__RBto9",filmCardOut:"_MysteryCard_filmCardOut__CbVLQ",CardOut:"_MysteryCard_CardOut__oXVMW"}},9873:(e,a,s)=>{s.d(a,{Z:()=>r});const r={randomCardWrapp:"_RandomCardOut_randomCardWrapp__TOq6S",addWinner_button:"_RandomCardOut_addWinner_button__Cu7sP",winnerWrapper:"_RandomCardOut_winnerWrapper__WyJSm"}},7864:(e,a,s)=>{s.d(a,{Z:()=>r});const r={randomWheelWrapp:"_RandomWheelWrapp_randomWheelWrapp__3IuJ7",wheelWrapper:"_RandomWheelWrapp_wheelWrapper__SKAOU",addWinner:"_RandomWheelWrapp_addWinner__ufkc9"}},6876:(e,a,s)=>{s.d(a,{Z:()=>r});const r={FilmsChoisePage__background:"_Games_FilmsChoisePage__background__-skW2",select:"_Games_select__aqdRO",templateWrapp:"_Games_templateWrapp__KtAF-",alert:"_Games_alert__+uPGX",filmsWrapp:"_Games_filmsWrapp__P8h5r"}}}]);
//# sourceMappingURL=144.5b2049e0.chunk.js.map