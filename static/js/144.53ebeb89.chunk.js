"use strict";(self.webpackChunkreact_film_randomize=self.webpackChunkreact_film_randomize||[]).push([[144],{3026:function(e,n,r){r.d(n,{Z:function(){return l}});var a="_FilmWinner_filmWinner__YNkV6",i="_FilmWinner_confetti__NUkHH",t="_FilmWinner_confettiPiece__psfSz",s=r(184),l=function(e){var n=e.winner;return(0,s.jsxs)("div",{className:i,children:[(0,s.jsx)("div",{className:t}),(0,s.jsx)("div",{className:t}),(0,s.jsx)("div",{className:t}),(0,s.jsx)("div",{className:t}),(0,s.jsx)("div",{className:t}),(0,s.jsx)("div",{className:t}),(0,s.jsx)("div",{className:t}),(0,s.jsx)("div",{className:t}),(0,s.jsx)("div",{className:t}),(0,s.jsx)("div",{className:t}),(0,s.jsx)("div",{className:t}),(0,s.jsx)("div",{className:t}),(0,s.jsx)("div",{className:t}),(0,s.jsx)("div",{className:a,children:null===n||void 0===n?void 0:n.option})]})}},4714:function(e,n,r){r.d(n,{Z:function(){return l}});var a=r(9439),i=r(2791),t={filmCard:"_FilmCard_filmCard__Wugy4",cardChoice:"_FilmCard_cardChoice__RmID4",filmCardOut:"_FilmCard_filmCardOut__FtWgA",CardOut:"_FilmCard_CardOut__bmiTm"},s=r(184),l=function(e){var n=e.film,r=e.droppedOut,l=(0,i.useState)(!1),o=(0,a.Z)(l,2),d=o[0],u=o[1];return(0,i.useEffect)((function(){r===n.id&&u(!0)}),[r]),(0,s.jsx)("div",{className:d?t.filmCardOut:t.filmCard,children:(0,s.jsx)("div",{className:t.filmCard__title,children:n.option})})}},8530:function(e,n,r){function a(e){for(var n,r,a=null===e||void 0===e?void 0:e.length;a;)r=Math.floor(Math.random()*a--),n=e[a],e[a]=e[r],e[r]=n;return e}r.d(n,{S:function(){return a}})},6196:function(e,n,r){var a=r(2333),i=(r(2791),r(184)),t={initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50}};n.Z=function(e){var n=e.children;return(0,i.jsx)(a.E.div,{variants:t,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3},children:n})}},9144:function(e,n,r){r.r(n),r.d(n,{default:function(){return M}});var a=r(1413),i=r(9439),t=r(6876),s=r(6196),l=r(1614),o=r(4165),d=r(5861),u=r(2791),c=r(7324),m=r(6680),_=r(6716),f=r(184),p=function(e){var n=e.lobbyFilmsPlate,r=e.prizeNumber,a=e.mustSpin,i=e.setMustSpin;return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(_.Wheel,{mustStartSpinning:a,prizeNumber:r,data:n,outerBorderWidth:1,radiusLineWidth:1,innerRadius:11,fontSize:10,textDistance:55,backgroundColors:["#020518"],textColors:["white"],innerBorderColor:"red",radiusLineColor:"#ec8dc7",outerBorderColor:"rgba(238, 141, 200, 1)",onStopSpinning:function(){i(!1)}})})},v=r(7864),h=r(6151),x=r(3026),C=r(9230),Z=r(7689),y=function(e){var n,r,a=e.winner,t=e.winnerBool,s=(e.setWinnerBool,(0,C.$G)().t),l=(0,u.useContext)(c.Z),_=l.numbersLobby,y=l.lobbyFilmsPlate,W=l.setLobbyFilmsPlate,j=l.socket,b=(0,u.useState)(!1),g=(0,i.Z)(b,2),N=g[0],F=g[1],w=(0,u.useState)(),P=(0,i.Z)(w,2),k=P[0],S=P[1],M=m.p.useLazyGetRandNumQuery(),O=(0,i.Z)(M,2),R=O[0],G=O[1],E=G.data,z=G.isSuccess,B=null===E||void 0===E||null===(n=E.result)||void 0===n||null===(r=n.random)||void 0===r?void 0:r.data,L=(0,Z.UO)(),D=function(){var e=(0,d.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!N){e.next=4;break}return e.abrupt("return",N);case 4:return e.next=6,R(null===_||void 0===_?void 0:_.length);case 6:j.emit("MustSpin",!0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){j.emit("RandomWheelGame",L)}),[]),(0,u.useEffect)((function(){j.on("responseMustSpin",(function(e){return F(e)})),j.on("responsePrizeNumber",(function(e){return S(e)})),j.on("responseRandomWheelGame",(function(e){return W(e)}))}),[j,E]),(0,u.useEffect)((function(){null===y||void 0===y||y.map((function(e){var n=y.findIndex((function(e){return e.id===_[B]}));j.emit("PrizeNumber",n)})),z&&setTimeout((function(){j.emit("RemoveFilm",_[B])}),12500)}),[E,j]),(0,f.jsx)(f.Fragment,{children:t?(0,f.jsx)("div",{className:v.Z.randomWheelWrapp,children:(0,f.jsx)(x.Z,{winner:a})}):(0,f.jsxs)("div",{className:v.Z.wheelWrapper,children:[(0,f.jsx)(p,{setMustSpin:F,mustSpin:N,prizeNumber:k,lobbyFilmsPlate:y}),(0,f.jsx)(h.Z,{className:v.Z.addWinner,onClick:D,children:s("gamesPage.randomWheel.button")})]})})},W=r(9873),j=r(4714),b=function(e){var n=e.winnerBool,r=e.winner,a=(0,C.$G)().t,t=(0,u.useContext)(c.Z),s=t.lobbyAllFilms,l=t.numbersLobby,_=t.setLobbyFilmsPlate,p=t.socket,v=m.p.useLazyGetRandNumQuery(),y=(0,i.Z)(v,2),b=y[0],g=y[1].data,N=(0,u.useState)(),F=(0,i.Z)(N,2),w=F[0],P=F[1],k=(0,Z.UO)(),S=function(){var e=(0,d.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(null===l||void 0===l?void 0:l.length);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){var e,n;p.emit("RandomCardOutGame",l[null===g||void 0===g||null===(e=g.result)||void 0===e||null===(n=e.random)||void 0===n?void 0:n.data],k)}),[g]),(0,u.useEffect)((function(){p.on("responseRandomCardOutGame",(function(e){return _(e)})),p.on("responseDroppedOutID",(function(e){w!==e&&P(e)}))}),[_,p]),(0,f.jsx)(f.Fragment,{children:n?(0,f.jsx)("div",{className:W.Z.winnerWrapper,children:(0,f.jsx)(x.Z,{winner:r})}):(0,f.jsxs)("div",{className:W.Z.randomCardWrapp,children:[s&&s.map((function(e){return(0,f.jsx)(j.Z,{film:e,droppedOut:w},e.id)})),(0,f.jsx)(h.Z,{className:W.Z.addWinner_button,onClick:S,children:a("gamesPage.randomCardOutWrapp.button")})]})})},g=r(3433),N=r(306),F=r(4467),w=function(e){var n=e.film,r=e.onDelete,a=(0,u.useContext)(c.Z).socket,t=(0,u.useState)(!1),s=(0,i.Z)(t,2),l=s[0],o=s[1];(0,u.useEffect)((function(){a.on("responseHideWinner",(function(e,r){r===n.id&&o(e)}))}),[a,l,r]);return(0,f.jsx)("div",{className:l?F.Z.filmCardOut:F.Z.filmCard,onClick:function(){r(n.id),a.emit("HideWinner",!0,n.id)},children:(0,f.jsxs)("div",{className:l?F.Z.isFlipped:F.Z.card,children:[(0,f.jsx)("div",{className:F.Z.filmCard__back,children:(0,f.jsx)("div",{className:F.Z.filmCard__title,children:n.option})}),(0,f.jsx)("div",{className:F.Z.filmCard__front,children:(0,f.jsx)("div",{className:F.Z.filmCard__author,children:"?"})})]})})},P=r(8530),k=function(e){var n=e.winnerBool,r=e.winner,a=(0,u.useContext)(c.Z),t=a.lobbyAllFilms,s=a.lobbyFilmsPlate,l=a.setLobbyFilmsPlate,o=a.socket,d=(0,u.useState)(),m=(0,i.Z)(d,2),_=m[0],p=m[1],v=(0,g.Z)(t),h=(0,P.S)(v);(0,u.useMemo)((function(){return p(h)}),[t]);var C=(0,Z.UO)();(0,u.useEffect)((function(){o.on("responseMysteryCard",(function(e){return l(e)}))}),[o,s]);var y=function(e){o.emit("MysteryCard",e,C)};return(0,f.jsx)(f.Fragment,{children:n?(0,f.jsx)("div",{className:N.Z.winnerWrapper,children:(0,f.jsx)(x.Z,{winner:r})}):(0,f.jsx)("div",{className:N.Z.mysteryCardWrapp,children:_&&_.map((function(e){return(0,f.jsx)(w,{onDelete:y,film:e},e.id)}))})})},S=r(8613),M=(r(8633),function(){var e=(0,C.$G)().t,n=(0,u.useState)(0),r=(0,i.Z)(n,2),o=r[0],d=r[1],m=(0,u.useContext)(c.Z),_=m.lobbyFilmsPlate,p=m.setLobbyFilmsPlate,v=m.socket,h=(0,u.useState)(!1),x=(0,i.Z)(h,2),W=x[0],j=x[1],g=(0,u.useState)(),N=(0,i.Z)(g,2),F=N[0],w=N[1],P=(0,Z.UO)();(0,u.useEffect)((function(){0===_.length&&d(4)}),[]),(0,u.useEffect)((function(){1!==o.value&&2!==o.value&&3!==o.value||(v.emit("RefreshGameFilms",P),v.on("RefreshFilms",(function(e){return p(e)})))}),[o,v]);var M=[{value:1,label:e("gamesPage.select.eliminationCards")},{value:2,label:e("gamesPage.select.randomWheel")},{value:3,label:e("gamesPage.select.choiceCard")}];return(0,u.useEffect)((function(){2===o.value?1===(null===_||void 0===_?void 0:_.length)&&setTimeout((function(){j(!0),_.map((function(e){return w(e)}))}),0):1===(null===_||void 0===_?void 0:_.length)&&setTimeout((function(){j(!0),_.map((function(e){return w(e)}))}),3500)}),[o.value,_]),(0,f.jsx)(s.Z,{children:(0,f.jsx)("div",{className:t.Z.FilmsChoisePage__background,children:(0,f.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,f.jsx)("div",{style:{color:"red"},children:"test server"}),(0,f.jsx)(S.ZP,{className:t.Z.select,classNamePrefix:"customSelect",isDisabled:4===o||5===o,isSearchable:!1,options:M,value:o,onChange:d,placeholder:e(0===o?"gamesPage.select.placeholder1":"gamesPage.select.placeholder2"),styles:{control:function(e){return(0,a.Z)((0,a.Z)({},e),{},{borderRadius:"20px",padding:"5px 30px"})}}}),(0,f.jsxs)("div",{className:t.Z.templateWrapp,children:[(0,f.jsxs)("div",{className:t.Z.alert,children:[0===o?(0,f.jsx)("h3",{children:e("gamesPage.addingMessage.chooseAGame")}):null,4===o?(0,f.jsx)("h3",{children:e("gamesPage.addingMessage.YouHaveNotAddedAnyMovies")}):null,5===o?(0,f.jsx)("h3",{children:e("gamesPage.addingMessage.addingOneMovieDoesNotMakeSense")}):null]}),1===o.value?(0,f.jsx)(b,{winner:F,winnerBool:W}):null,2===o.value?(0,f.jsx)(y,{winner:F,winnerBool:W,setWinnerBool:j}):null,3===o.value?(0,f.jsx)(k,{winner:F,winnerBool:W}):null]})]})})})})},8633:function(){},306:function(e,n){n.Z={mysteryCardWrapp:"_MysteryCardWrapp_mysteryCardWrapp__NV-JA",winnerWrapper:"_MysteryCardWrapp_winnerWrapper__YPmnv"}},4467:function(e,n){n.Z={filmCard:"_MysteryCard_filmCard__7uGmy",shake:"_MysteryCard_shake__iooqY",card:"_MysteryCard_card__66qpE",filmCard__front:"_MysteryCard_filmCard__front__4SVdd",filmCard__back:"_MysteryCard_filmCard__back__hLEjL","neon-1":"_MysteryCard_neon-1__Surd5",isFlipped:"_MysteryCard_isFlipped__D9qzq",filmCardOut:"_MysteryCard_filmCardOut__9HtxB",CardOut:"_MysteryCard_CardOut__P2KIl"}},9873:function(e,n){n.Z={randomCardWrapp:"_RandomCardOut_randomCardWrapp__xRivu",addWinner_button:"_RandomCardOut_addWinner_button__FCkuh",winnerWrapper:"_RandomCardOut_winnerWrapper__i7cDP"}},7864:function(e,n){n.Z={randomWheelWrapp:"_RandomWheelWrapp_randomWheelWrapp__F6IHJ",wheelWrapper:"_RandomWheelWrapp_wheelWrapper__l8ugC",addWinner:"_RandomWheelWrapp_addWinner__j82Pu"}},6876:function(e,n){n.Z={FilmsChoisePage__background:"_Games_FilmsChoisePage__background__0W3Px",select:"_Games_select__5ACKy",templateWrapp:"_Games_templateWrapp__ZxZof",alert:"_Games_alert__ihv4u",filmsWrapp:"_Games_filmsWrapp__kwoof"}}}]);
//# sourceMappingURL=144.53ebeb89.chunk.js.map