"use strict";(self.webpackChunkreact_film_randomize=self.webpackChunkreact_film_randomize||[]).push([[786],{6196:function(e,n,a){var i=a(945),r=(a(2791),a(184)),t={initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50}};n.Z=function(e){var n=e.children;return(0,r.jsx)(i.E.div,{variants:t,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3},children:n})}},786:function(e,n,a){a.r(n),a.d(n,{default:function(){return D}});var i=a(1413),r=a(9439),t="_Games_FilmsChoisePage__background__-skW2",l="_Games_select__aqdRO",s="_Games_templateWrapp__KtAF-",d="_Games_alert__+uPGX",o=a(6196),u=a(1614),c=a(4165),m=a(5861),_=a(2791),f=a(7324),v=a(6680),p=a(6716),x=a(184),h=function(e){var n=e.filmPlate,a=e.prizeNumber,i=e.mustSpin,r=e.setMustSpin;return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(p.Wheel,{mustStartSpinning:i,prizeNumber:a,data:n,outerBorderWidth:1,radiusLineWidth:1,innerRadius:11,fontSize:11,textDistance:61,backgroundColors:["#020518"],textColors:["white"],innerBorderColor:"red",radiusLineColor:"#ec8dc7",outerBorderColor:"rgba(238, 141, 200, 1)",onStopSpinning:function(){r(!1)}})})},C="_RandomWheelWrapp_randomWheelWrapp__3IuJ7",j="_RandomWheelWrapp_wheelWrapper__SKAOU",g="_RandomWheelWrapp_addWinner__ufkc9",y=a(6151),N="_FilmWinner_filmWinner__Ut8VV",Z="_FilmWinner_confetti__qVUEA",S="_FilmWinner_confettiPiece__ax0qw",W=function(e){var n=e.winner;return(0,x.jsxs)("div",{className:Z,children:[(0,x.jsx)("div",{className:S}),(0,x.jsx)("div",{className:S}),(0,x.jsx)("div",{className:S}),(0,x.jsx)("div",{className:S}),(0,x.jsx)("div",{className:S}),(0,x.jsx)("div",{className:S}),(0,x.jsx)("div",{className:S}),(0,x.jsx)("div",{className:S}),(0,x.jsx)("div",{className:S}),(0,x.jsx)("div",{className:S}),(0,x.jsx)("div",{className:S}),(0,x.jsx)("div",{className:S}),(0,x.jsx)("div",{className:S}),(0,x.jsx)("div",{className:N,children:null===n||void 0===n?void 0:n.option})]})},w=a(9230),b=function(e){var n,a,i=e.winner,t=e.winnerBool,l=e.setWinnerBool,s=(0,w.$G)().t,d=(0,_.useContext)(f.Z),o=d.numbers,u=d.filmPlate,p=d.setFilmPlate,N=(d.setAllFilms,d.allFilms,(0,_.useState)(!1)),Z=(0,r.Z)(N,2),S=Z[0],b=Z[1],F=(0,_.useState)(),M=(0,r.Z)(F,2),P=M[0],k=M[1],O=(0,_.useState)(),z=(0,r.Z)(O,2),R=z[0],B=z[1],G=v.p.useLazyGetRandNumQuery(),E=(0,r.Z)(G,2),q=E[0],A=E[1],V=A.data,D=A.isSuccess,I=null===V||void 0===V||null===(n=V.result)||void 0===n||null===(a=n.random)||void 0===a?void 0:a.data,L=function(){var e=(0,m.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=4;break}return e.abrupt("return",S);case 4:return e.next=6,q(null===o||void 0===o?void 0:o.length);case 6:b(!0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log(u),(0,_.useEffect)((function(){null===u||void 0===u||u.map((function(e){var n=u.findIndex((function(e){return e.id===o[I]}));return B(n)})),k(o[I]),D&&setTimeout((function(){p(null===u||void 0===u?void 0:u.filter((function(e){return e.id!==P})))}),12500)}),[V,P]),(0,_.useEffect)((function(){1===(null===u||void 0===u?void 0:u.length)&&l(!0)}),[u]),(0,x.jsx)(x.Fragment,{children:t?(0,x.jsx)("div",{className:C,children:(0,x.jsx)(W,{winner:i})}):(0,x.jsxs)("div",{className:j,children:[(0,x.jsx)(h,{setMustSpin:b,mustSpin:S,prizeNumber:R,filmPlate:u}),(0,x.jsx)(y.Z,{className:g,onClick:L,children:s("gamesPage.randomWheel.button")})]})})},F="_RandomCardOut_randomCardWrapp__TOq6S",M="_RandomCardOut_addWinner_button__Cu7sP",P="_RandomCardOut_winnerWrapper__WyJSm",k={filmCard:"_FilmCard_filmCard__aSUp8",cardChoice:"_FilmCard_cardChoice__nuEa0",filmCardOut:"_FilmCard_filmCardOut__hTHJr",CardOut:"_FilmCard_CardOut__Vgabo"},O=function(e){var n=e.film,a=e.droppedOut,i=(0,_.useState)(!1),t=(0,r.Z)(i,2),l=t[0],s=t[1];return(0,_.useEffect)((function(){a===n.id&&s(!0)}),[a]),(0,x.jsx)("div",{className:l?k.filmCardOut:k.filmCard,children:(0,x.jsx)("div",{className:k.filmCard__title,children:n.option})})},z=function(e){var n=e.winnerBool,a=e.winner,i=(0,w.$G)().t,t=(0,_.useContext)(f.Z),l=t.allFilms,s=t.numbers,d=t.filmPlate,o=t.setFilmPlate,u=v.p.useLazyGetRandNumQuery(),p=(0,r.Z)(u,2),h=p[0],C=p[1].data,j=(0,_.useState)(),g=(0,r.Z)(j,2),N=g[0],Z=g[1],S=function(){var e=(0,m.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(null===s||void 0===s?void 0:s.length);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log(d),(0,_.useEffect)((function(){null===d||void 0===d||d.map((function(e){return Z(s[null===C||void 0===C?void 0:C.result.random.data])})),o(null===d||void 0===d?void 0:d.filter((function(e){return e.id!==N})))}),[C,N]),(0,x.jsx)(x.Fragment,{children:n?(0,x.jsx)("div",{className:P,children:(0,x.jsx)(W,{winner:a})}):(0,x.jsxs)("div",{className:F,children:[l&&l.map((function(e){return(0,x.jsx)(O,{film:e,droppedOut:N},e.id)})),(0,x.jsx)(y.Z,{className:M,onClick:S,children:i("gamesPage.randomCardOutWrapp.button")})]})})},R=a(3433),B="_MysteryCardWrapp_mysteryCardWrapp__Xkh-R",G="_MysteryCardWrapp_winnerWrapper__GFtQU",E={filmCard:"_MysteryCard_filmCard__gwvys",shake:"_MysteryCard_shake__VOIvZ",card:"_MysteryCard_card__yblMf",filmCard__front:"_MysteryCard_filmCard__front__jc+17",filmCard__back:"_MysteryCard_filmCard__back__9KdpV","neon-1":"_MysteryCard_neon-1__Idxea",isFlipped:"_MysteryCard_isFlipped__RBto9",filmCardOut:"_MysteryCard_filmCardOut__CbVLQ",CardOut:"_MysteryCard_CardOut__oXVMW"},q=function(e){var n=e.film,a=e.onDelete,i=(0,_.useState)(!1),t=(0,r.Z)(i,2),l=t[0],s=t[1];return(0,x.jsx)("div",{className:l?E.filmCardOut:E.filmCard,onClick:function(){a(n.id),s(!0)},children:(0,x.jsxs)("div",{className:l?E.isFlipped:E.card,children:[(0,x.jsx)("div",{className:E.filmCard__back,children:(0,x.jsx)("div",{className:E.filmCard__title,children:n.option})}),(0,x.jsx)("div",{className:E.filmCard__front,children:(0,x.jsx)("div",{className:E.filmCard__author,children:"?"})})]})})};var A=function(e){var n=e.winnerBool,a=e.winner,i=(0,_.useContext)(f.Z),t=i.allFilms,l=i.filmPlate,s=i.setFilmPlate,d=(0,_.useState)(),o=(0,r.Z)(d,2),u=o[0],c=o[1],m=function(e){for(var n,a,i=null===e||void 0===e?void 0:e.length;i;)a=Math.floor(Math.random()*i--),n=e[i],e[i]=e[a],e[a]=n;return e}((0,R.Z)(t));(0,_.useMemo)((function(){return c(m)}),[t]);var v=function(e){s(l.filter((function(n){return n.id!==e})))};return console.log(l),(0,x.jsx)(x.Fragment,{children:n?(0,x.jsx)("div",{className:G,children:(0,x.jsx)(W,{winner:a})}):(0,x.jsx)("div",{className:B,children:u&&u.map((function(e){return(0,x.jsx)(q,{onDelete:v,film:e},e.id)}))})})},V=a(8613),D=function(){var e=(0,w.$G)().t,n=(0,_.useState)(0),a=(0,r.Z)(n,2),c=a[0],m=a[1],v=(0,_.useContext)(f.Z),p=v.filmPlate,h=v.setAllFilms,C=v.allFilms,j=(0,_.useState)(!1),g=(0,r.Z)(j,2),y=g[0],N=g[1],Z=(0,_.useState)(),S=(0,r.Z)(Z,2),W=S[0],F=S[1];(0,_.useEffect)((function(){0===p.length&&m(4)}),[]);var M=[{value:1,label:e("gamesPage.select.eliminationCards")},{value:2,label:e("gamesPage.select.randomWheel")},{value:3,label:e("gamesPage.select.choiceCard")}];return(0,_.useEffect)((function(){2===c.value?1===(null===p||void 0===p?void 0:p.length)&&setTimeout((function(){N(!0),p.map((function(e){F(e);var n=C.filter((function(n){return n.id!==e.id})).map((function(e){return 10===e.value?(0,i.Z)((0,i.Z)({},e),{},{value:10,optionSize:1,quantity:10}):(0,i.Z)((0,i.Z)({},e),{},{value:e.value+1,optionSize:e.optionSize-1,quantity:Math.floor(100-10*e.value)})}));h(n)}))}),0):1===(null===p||void 0===p?void 0:p.length)&&setTimeout((function(){N(!0),p.map((function(e){F(e);var n=C.filter((function(n){return n.id!==e.id})).map((function(e){return 10===e.value?(0,i.Z)((0,i.Z)({},e),{},{value:10,optionSize:1,quantity:10}):(0,i.Z)((0,i.Z)({},e),{},{value:e.value+1,optionSize:e.optionSize-1,quantity:Math.floor(100-10*e.value)})}));h(n)}))}),3500)}),[C,p]),(0,x.jsx)(o.Z,{children:(0,x.jsxs)("div",{className:t,children:[(0,x.jsx)(x.Fragment,{}),(0,x.jsxs)(u.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,x.jsx)(V.ZP,{className:l,classNamePrefix:"customSelect",isDisabled:4===c||5===c,isSearchable:!1,options:M,value:c,onChange:m,placeholder:e(0===c?"gamesPage.select.placeholder1":"gamesPage.select.placeholder2"),styles:{control:function(e){return(0,i.Z)((0,i.Z)({},e),{},{borderRadius:"20px",padding:"5px 30px"})}}}),(0,x.jsxs)("div",{className:s,children:[(0,x.jsxs)("div",{className:d,children:[0===c?(0,x.jsx)("h3",{children:e("gamesPage.addingMessage.chooseAGame")}):null,4===c?(0,x.jsx)("h3",{children:e("gamesPage.addingMessage.YouHaveNotAddedAnyMovies")}):null,5===c?(0,x.jsx)("h3",{children:e("gamesPage.addingMessage.addingOneMovieDoesNotMakeSense")}):null]}),1===c.value?(0,x.jsx)(z,{winner:W,winnerBool:y}):null,3===c.value?(0,x.jsx)(A,{winner:W,winnerBool:y}):null,2===c.value?(0,x.jsx)(b,{winner:W,winnerBool:y,setWinnerBool:N}):null]})]})]})})}}}]);
//# sourceMappingURL=786.28590398.chunk.js.map